# Vulnerability: 
SQL Injection - RCE bypass login on B&E Tracker (by: oretnom23 ) v1.0

--------------------------------------------------------------------------
# Description:
The B&E Tracker (by: oretnom23 ) v1.0 is vulnerable
in the application /expense_budget/classes/Login.php which is called from /expense_budget/dist/js/script.js app. 
The parameter (username) from the login form is not protected correctly and there is no security and escaping from malicious payloads. 
When the user is sending a request to the MySQL server he can bypass the login credentials and take control of the administer account.

--------------------------------------------------------------------------
# host: 
 localhost

# Payload:
user: nu11secu1rty ' or 1=1#
pass: 

--------------------------------------------------------------------------
# Test passwords and usernames - Login form:
user: test1
pass: password1

user: test2 
pass: password2

user: test3
pass: password3

--------------------------------------------------------------------------
# Vendor: https://www.sourcecodester.com/php/14893/budget-and-expense-tracker-system-php-free-source-code.html

--------------------------------------------------------------------------
# The vulnerable part of code:
		$qry = $this->conn->query("SELECT * from users where username = '$username' and password = md5('$password') ");
		if($qry->num_rows > 0){
			foreach($qry->fetch_array() as $k => $v){
				if(!is_numeric($k) && $k != 'password'){
					$this->settings->set_userdata($k,$v);
				}

			}
			
--------------------------------------------------------------------------
# Simple fix but not strong ;)

		$qry = $this->conn->query("SELECT * from users where username = ('$username') and password = md5('$password') ");
		if($qry->num_rows > 0){
			foreach($qry->fetch_array() as $k => $v){
				if(!is_numeric($k) && $k != 'password'){
					$this->settings->set_userdata($k,$v);
				}
			}

--------------------------------------------------------------------------
# Proof: https://streamable.com/y3ig5h
## BR nu11secur1ty
